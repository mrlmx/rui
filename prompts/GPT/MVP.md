# 组件库设计

组件库的名称叫做 `rui`，是一个基于 React 的 UI 组件库。

## 组件类型与设计粒度
- 目前只需要有 按钮、输入框 这 2 个组件
- 按钮
  - 按钮组件需要支持多种类型：默认、主色、次要、危险、链接
  - 按钮组件需要支持多种大小：默认、小、大
  - 按钮组件需要支持多种形状：默认、圆角、圆形
- 输入框
  - 输入框组件需要支持多种类型：默认、密码、搜索、多行、禁用、只读
  - 输入框组件需要支持多种大小：默认、小、大
  - 输入框组件需要支持多种形状：默认、圆角、圆形

## 主题定制与样式
- 主题定制能力，包括颜色、间距、排版等语义化 Token
- 样式与组件分离，按组件导出样式文件（CSS/LESS），支持按需引入。组件库应生成 ESM/CJS/UMD 等多种格式，并在 package.json 设置 sideEffects:false 以支持 Tree-shaking。Ant Design 明确支持 ES 模块和按需加载
- 支持 CSS 变量，以便深度覆盖和定制样式。支持与 Tailwind CSS 类似的工具类集成。

## 模块打包与按需加载
- 输出多种构建格式（ESM、CommonJS、UMD），保证与各种打包环境兼容。组件库应采用纯 ES 模块编写，开启 Tree-shaking，避免引入未使用代码。
- 按组件拆分包体，实现按需加载。类似 AntD/MUI 的做法，为每个组件单独打包（每个组件文件包含其依赖），用户只引入使用到的组件即可，这可大幅减少最终打包体积。
- 构建过程要自动化（使用 Vite 配置库模式），并提供 TypeScript 类型声明。

## 文档与开发者体验
- 完整易用的文档，包括组件使用示例、API 说明及参数类型。文档应自动生成并保持与代码同步，使用 dumi（https://d.umijs.org）提供交互式示例。
- TypeScript 全面支持：组件提供 .d.ts 类型定义，对 TypeScript 的一流支持，属性和事件有完善的类型提示。

## 测试覆盖与质量保障
- 全面单元测试和集成测试，确保组件逻辑正确和 UI 稳定。建议测试覆盖率不低于 80% 以上，以避免发布时遗漏错误。
